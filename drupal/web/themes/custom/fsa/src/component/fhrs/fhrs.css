@import "../../core/helper";
@import "../../core/custom-property";

.ratings {
  position: relative;
  margin: 0;
  max-width: none;

  @media (--breakpoint-md) {
    padding-right: 0em;
    padding-left: 0em;
  }
}

.ratings__search-expand-button {
  width: 100%;
  padding: 1em;
  text-transform: uppercase;

  @media (--breakpoint-md) {
    display: none;
  }

  & svg path {
    fill: currentColor;
  }
}

/*Ratings search*/
.ratings__search {
  position: relative;
  z-index: var(--z-middle);
  text-align: center;

  legend,
  label {
    display: block;
    text-align: left;
    font-size: 1em;
    text-transform: none;
    margin-bottom: 0.5em;
  }
  
  legend {
    margin-bottom: 1em;
  }

  label {
    &.option {
      text-transform: capitalize;
    }
  }

  input:not([type="submit"]),
  select {
    text-align: left;
    width: 100%;
    margin-bottom: 1em;
  }

  .fsa-rating-search-main {
    label {
      text-align: center;
      @mixin responsive-declaration font-size, 1.2em, 1.35em;
    }

    input {
      background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3C!-- Generator: Sketch 47.1 %2845422%29 - http://www.bohemiancoding.com/sketch --%3E%3Ctitle%3Enav-fhrs-search-icon%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3C/defs%3E%3Cg id='FHRS' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='FHRS-Frontpage-search-results' transform='translate%28-80.000000, -12.000000%29' fill='%23007C75'%3E%3Cg id='Header'%3E%3Cg id='top' transform='translate%280.000000, 10.000000%29'%3E%3Cg id='Links' transform='translate%2880.000000, 0.000000%29'%3E%3Cpath d='M6.99989063,13.9998125 C4.23793378,13.9998125 1.99996875,11.7618475 1.99996875,8.99989063 C1.99996875,6.23793378 4.23793378,3.99996875 6.99989063,3.99996875 C9.76184747,3.99996875 11.9998125,6.23793378 11.9998125,8.99989063 C11.9998125,11.7618475 9.76184747,13.9998125 6.99989063,13.9998125 M15.7067546,16.2927767 L12.6008031,13.1868252 C13.4757894,12.0178435 13.9997813,10.5718661 13.9997813,8.99989063 C13.9997813,5.13395103 10.8658302,2 6.99989063,2 C3.13395103,2 0,5.13395103 0,8.99989063 C0,12.8658302 3.13395103,15.9997813 6.99989063,15.9997813 C8.57186606,15.9997813 10.0188435,15.4757894 11.1868252,14.6008031 L14.2927767,17.7067546 C14.6837706,18.0977485 15.3157607,18.0977485 15.7067546,17.7067546 C16.0977485,17.3157607 16.0977485,16.6837706 15.7067546,16.2927767' id='nav-fhrs-search-icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      background-position: right 1em top 50%;
      background-repeat: no-repeat;
    }
  }

  .form-actions {
    padding-top: 0em;
    display: flex;
    justify-content: center;
  }

  .fieldgroup {
    margin-top: 2em;
  }

  .form-item {
    margin-bottom: 0;
  }

  .ratings__advanced-search-button {
    padding: 1em 0;
    margin-bottom: 1em;
    color: var(--dark-primary-color);
    text-decoration: underline;
    transition: color var(--transition-enter-fast);
    display: flex;
    align-items: center;
    justify-content: center;

    &:not(.is-open) {
      box-shadow: 0 1px 0 0 var(--color-light-gray);
    }

    :--not-touch &:--enter {
      color: var(--primary-color);
    }
  }

  .ratings__advanced-search-button-icon {
    @media (--breakpoint-md) {
      margin-left: 1em !important;
    }
  }

  .ratings__advanced-search-content {
    margin-bottom: 1em;
    padding-bottom: 1em;
    box-shadow: 0 1px 0 0 var(--color-light-gray);
  }
}


/* Ratings header */
.ratings__header {
  display: flex;
  flex-flow: column nowrap;
  @mixin responsive-declaration padding-bottom, 1.5em, 3em;

  @media (--breakpoint-md) {
    flex-flow: row nowrap;
    align-items: center;
  }
}

.ratings__header.rating__header--back-link .svg {
  width: 1em;
  height: 1em;
  transform: rotate(180deg);

  &.rating__header--back-link a {
    margin-left: 1em;
  }
}


/* Ratings toolbar */
.ratings__toolbar {
  display: flex;
  flex-flow: column nowrap;
  @mixin responsive-declaration padding-top, 1.5em, 3em;
  @mixin responsive-declaration padding-bottom, 1em, 1.5em;
  padding-right: 1em;
  padding-left: 1em;

  @media (--breakpoint-md) {
    flex-flow: row nowrap;
    align-items: center;
  }

  @media (--breakpoint-lg) {
    padding-right: 0em;
    padding-left: 0em;
  }
}

.ratings__sort-form {
  margin: 0;
  padding-right: 0;

  @media (--breakpoint-md) {
    margin-left: auto;
  }

  .form-item {
    margin-bottom: 0;

    label {
      font-size: 1em;
      font-weight: 600;
      text-transform: none;
      display: block;
      margin: 0;
      margin-bottom: 0.5em;
    
      @media (--breakpoint-lg) {
        display: inline-block;
        margin: 0 1em;
      }
    }

    select {
      display: block;
      margin: 0;
    
      @media (--breakpoint-lg) {
        display: inline-block;
        margin-left: 1em;
      }
    }
  }
}

.ratings__hits-total {
  font-size: 1.5em;
  font-weight: 600;
  @mixin responsive-declaration margin-right, 1em, 2em;
  margin-bottom: 1em;

  @media (--breakpoint-md) {
    margin-bottom: 0;
  }
}

.ratings__sort-results {
  & select {
    width: 15em;
  }
}

/*Rating listing*/
.ratings__content {
  position: relative;
  background-color: var(--color-white);
  z-index: var(--z-bottom);
  flex: 1 1 100%;
  min-height: 100vh;
  @mixin responsive-declaration padding-bottom, 1em, 3em;
  @mixin responsive-declaration padding-right, 1em, 4em;
  @mixin responsive-declaration padding-left, 1em, 4em;

  &.ratings__content--frontpage {
    @mixin responsive-declaration padding-top, 1em, 3em;
  }

  &.ratings__content--listing {
    padding: 0 !important;
  }

  h1 {
    color: var(--primary-color);
  }
  
  a {

    :--not-touch &:--enter {
      color: var(--color-darker-teal);
    }
  }

  p {
    margin-top: 0;
    margin-bottom: 0;
  }
}

.ratingvalue {
  text-decoration: none;

  .numeric {
    font-family: var(--font-family-content);
    font-size: 1.25em;
    font-weight: 600;
    line-height: 35px;
    color: var(--color-black);
    border-radius: 50%;
    background-color: var(--color-green);
    border: 2px solid var(--color-black);
    width: 35px;
    height: 35px;
    display: block;
    text-align: center;
    overflow: hidden;
  }

  .description {
    display: none;
  }

  .ratings__badge & {
    display: none;
  
    @media (--breakpoint-md) {
      display: block;
    }
  
    @media (--breakpoint-lg) {
      display: none;
    }
  }
}

.ratings__badge {
  img {
    border: 1px solid var(--color-light-gray);
    border-radius: 0.2em;
    max-width: 100%;
  
    @media (--breakpoint-xs) {
      max-width: 120%;
    }
  }
}

/* Ratings table */
.ratings__table {
  & > div:nth-child(4n + 2) {
    background-color: var(--color-lighter-gray);

    @media (--breakpoint-md) {
      background-color: transparent;
    }
  }

  & > div:nth-child(4n + 1) {
    background-color: transparent;
  
    @media (--breakpoint-md) {
      background-color: var(--color-lighter-gray);
    }
  }

  &.ratings__table--more-items > div {
    display: flex !important;
    flex-flow: column nowrap !important;
  }
}

.ratings__mobile-item {
  display: flex;
  align-items: stretch;

  &.is-open {
    background-color: var(--primary-color) !important;
    color: var(--color-white) !important;
  }

  a {
    display: flex;
    flex: 1 1 auto;

    p {
      text-decoration: none;
    }
  }

  &.is-open a {
    color: var(--color-white) !important;
  }
}

.ratings__mobile-link {
  text-decoration: none !important;
}

.ratings__mobile-rating-value {
  padding-left: 1em;
}

.ratings__mobile-name {
  padding: 0 1em;
  text-decoration: underline;

  p {
    color: var(--color-black);
  }
}

.ratings__toggle-button {
  padding: 1em;
  border-radius: 0;
  border-left: 1px solid var(--color-light-gray);

  .ratings__mobile-item.is-open & {
    border-left: 1px solid var(--dark-primary-color);
  }

  .svg {
    position: relative;
    width: 11px;
    height: 6px;

    path {
      fill: var(--dark-primary-color) !important;

      .ratings__mobile-item.is-open & {
        fill: var(--color-white) !important;
      }
    }
  }
}

/* Ratings footer */
.ratings__footer {
  text-align: center;

  .hits-shown,
  .hits-total {
    font-weight: 700;

    & > div {
      display: inline !important;
    }
  }

  .button {
    margin: 0 auto;
    @mixin responsive-declaration margin-top, 1em, 2em;
  }
}

.ratings-meanings__row {
  background-color: var(--color-white);
  margin-bottom: 0.5em;
  flex-flow: column;

  @media (--breakpoint-xs) {
    flex-flow: row;
  }
}

.ratings-meanings__table {
  margin-right: 0;
  margin-left: 0;
  margin-bottom: 2em;

  @media (--breakpoint-md) {
    margin-right: -2em;
    margin-left: -2em;
  }

  @media (--breakpoint-lg) {
    margin-right: -5em;
    margin-left: -5em;
  }
}

.ratings-meanings__item:last-child {
  @media (--breakpoint-xs) {
    box-shadow: -0.1em 0 0 0 var(--color-lighter-gray);
  }
}

.ratings-meanings__item--score {
  background-color: var(--primary-color);
  color: var(--color-white);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5em;

  @media (--breakpoint-xs) {
    flex: 0 0 6em;
  }
}

.ratings-meanings__item--badge {
  @media (--breakpoint-xs) {
    flex: 0 0 10em;
  }

  @media (--breakpoint-sm) {
    flex: 0 0 15em;
  }
}

.ratings-meanings__content--highlight {
  font-family: var(--font-family-heading);
  font-size: 2.5em;
  font-weight: bold;
}

.establishment__container {
  max-width: 80em;
}

.establishment__rating {
  background-color: var(--color-lighter-gray);

  @mixin responsive-declaration margin-right, 1em, 2em;
  @mixin responsive-declaration padding-right, 1em, 2em;
  margin-bottom: 2em;

  @media (--breakpoint-md) {
    border-right: 0;
  }

  @media (--breakpoint-lg) {
    width: 20em;
    float: left;
    border-right: 1px solid var(--color-light-gray);
  }

  img {
    border: 1px solid var(--color-light-gray);
    border-radius: 0.2em;
  }

  ul {
    padding-left: 0;
  }

  li {
    list-style: none;
  }

  a {
    padding: 0.5em 0;
    display: block;
  }
}

.establishment__title {
  margin-top: 0;
}


.establishment__button {
  background-color: var(--dark-primary-color);
  color: var(--color-white);
  width: 100%;
  justify-content: center;
  padding: 1em;
  transition: background-color var(--transition-enter-fast);

  &.is-open {
    background-color: var(--dark-secondary-color);
  }
}

.establishment__content {
  margin-bottom: 2em;

  h4 {
    font-size: 1em;
    margin-bottom: 0.5em;
  }
}

.establishment__table {
  clear: both;
  margin-top: 2em;
  margin-bottom: 1em;
  @mixin responsive-declaration font-size, 0.8em, 1em;
}

.establishment__score {
  padding: 0.5em;
  color: var(--color-black);
  background-color: var(--color-lighter-gray);
  flex: 0 0 auto;
}

.establishment__table-button.is-open {
  & .establishment__score {
    background-color: color(white alpha(-70%));
    color: white;
  }
}

.establishment__authority-label {
  display: inline-block;
  font-weight: 700;
  margin-bottom: 0.5em;

  @media (--breakpoint-md) {
    width: 10em;
  }
}

.establishment__authority-content {
  display: inline-block;
  word-break: break-word;
}
